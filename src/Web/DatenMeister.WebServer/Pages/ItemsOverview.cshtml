@page "/ItemsOverview/{workspace}/{extent}/{item?}"
@namespace DatenMeister.WebServer.Pages
@using System.Web
@model ExtentOverviewModel
@addTagHelper *, Microsoft.AspNetCore.Mvc.TagHelpers

@{
    Layout = "~/Shared/_Layout.cshtml";
    ViewData["Title"] = "Der DatenMeister - Items Overview";
}

<h1>Items Overview</h1>

<script type="application/javascript">

$(function()
{
    requirejs(['DatenMeister/Forms'], function (Forms)
    {
        let listForm = new Forms.CollectionFormCreator();
        listForm.createListForRootElements(
            $("#items"),
            "@HttpUtility.JavaScriptStringEncode(Model.Workspace)",
            "@HttpUtility.JavaScriptStringEncode(Model.Extent)",
            true);
    });
});

</script>

<div id="items"></div>

<div class="accordion" id="debug_accordion">
  <div class="accordion-item">
    <h2 class="accordion-header" id="debug_mofelement_heading">    
      <button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#debug_mofelement_body" aria-expanded="true" aria-controls="collapseOne">
        Element
      </button>
    </h2>    
    <div id="debug_mofelement_body" class="accordion-collapse collapse" aria-labelledby="debug_mofelement_heading" data-bs-parent="#debug_accordion">
      <div class="accordion-body" id="debug_mofelement">        
      </div>
    </div>
  </div>
  <div class="accordion-item">
    <h2 class="accordion-header" id="debug_formelement_heading">    
      <button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#debug_formelement_body" aria-expanded="true" aria-controls="collapseOne">
        Form
      </button>
    </h2>
    <div id="debug_formelement_body" class="accordion-collapse collapse" aria-labelledby="debug_formelement_heading" data-bs-parent="#debug_accordion">
      <div class="accordion-body" id="debug_formelement">        
      </div>
    </div>
  </div>
</div>